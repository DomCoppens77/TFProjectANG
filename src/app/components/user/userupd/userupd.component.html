<form [formGroup]="fg" (ngSubmit)="onSubmit()">
    <nb-card [nbSpinner]="spinner" nbSpinnerStatus="basic">
        
        <nb-card-header class="headerdfooteretail">
            <table>
                <thead>
                    <TD COLSPAN=2>
                        <h3>
                            <nb-icon icon="person-outline" status="warning" [options]="{ animation: { type: 'zoom' } }"></nb-icon> 
                            User Update&nbsp;
                            <button nbButton *ngIf="admin" status="success" type="submit" [disabled]="fg.invalid"
                            nbPopover="Modify User" nbPopoverTrigger="hover" nbPopoverPlacement="right">
                                <nb-icon icon="save"></nb-icon>
                            </button>
                        </h3>
                    </TD> 
                </thead>
            </table>        
        </nb-card-header>   
        <nb-card-body>
            <TABLE border=0>
                <TR><TD ALIGN=RIGHT>Firstname &nbsp; :&nbsp; </TD> <TD><input nbInput formControlName="fname"> </TD>

                
                </TR>
                <TR><TD ALIGN=RIGHT>Lastname  &nbsp; :&nbsp; </TD> <TD><input nbInput formControlName="lname"> </TD></TR>
                <TR><TD ALIGN=RIGHT>Status    &nbsp; :&nbsp; </TD> <TD><input nbInput formControlName="status"> </TD>
                </TR>
                <TR><TD ALIGN=RIGHT>Avatar    &nbsp; :&nbsp; </TD>
                    <TD>
                        <form>
                                
                            {{imageError}}
                            <div >
                                <input type="file" (change)="fileChangeEvent($event)" class="fileInputProfile"> 
                                <!-- <button nbButton type="file" status="warning" (click)="fileChangeEvent($event)">
                                    <nb-icon icon="plus-circle"></nb-icon>
                                </button> -->

                                <div class="img-space">
                                    <ng-container *ngIf="isImageSaved">
                                        <img [src]="cardImageBase64" width=300 alt="New Avatarto Update" />
                                    </ng-container>
                                </div>
                            </div>
                                
                            <button nbButton status="danger"  (click)="removeImage()" *ngIf="isImageSaved"
                                nbPopover="Remove New Avatar from Update" nbPopoverTrigger="hover" nbPopoverPlacement="right">
                                <nb-icon icon="trash-outline"></nb-icon>
                            </button>
                        </form>

                    </TD>
                    <TD ROWSPAN=4>
                        <img *ngIf="cardImageBase64act != ''" src={{cardImageBase64act}} alt="Actual Avatar" width=300 />
                    </TD>
                </TR>
            </TABLE>
        </nb-card-body>
        <nb-card-footer class="headerdfooteretail">
            <button nbButton status="info" (click)="back2list()"
                nbPopover="Go Back" nbPopoverTrigger="hover" nbPopoverPlacement="right">
                <nb-icon icon="corner-down-left"></nb-icon>
            </button>  
        </nb-card-footer>
    </nb-card>
</form>
